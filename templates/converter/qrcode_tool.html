{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="tool-container">
    <div class="tool-header">
        <h1>{{ title }}</h1>
        <p>{{ subtitle }}</p>
    </div>

    <div class="upload-area" style="cursor: default; border: none; background: transparent;">
        <!-- QR Code Generation Form -->
        <form method="post" action="{{ action_url }}" id="qr-form"
            style="max-width: 500px; margin: 0 auto; background: #fff; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); text-align: left;">
            {% csrf_token %}

            <div style="margin-bottom: 20px;">
                <label for="qr_data" style="display: block; margin-bottom: 8px; font-weight: 500; color: #333;">ข้อมูล /
                    URL / เบอร์โทร:</label>
                <input type="text" name="qr_data" id="qr_data" required
                    placeholder="https://example.com หรือ 0812345678"
                    style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px; transition: border-color 0.3s;">
            </div>

            <div style="display: flex; gap: 20px; margin-bottom: 30px;">
                <div style="flex: 1;">
                    <label for="fill_color"
                        style="display: block; margin-bottom: 8px; font-weight: 500; color: #333;">สี QR Code:</label>
                    <div
                        style="display: flex; align-items: center; border: 2px solid #ddd; border-radius: 8px; padding: 5px; background: #fff;">
                        <input type="color" name="fill_color" id="fill_color" value="#000000"
                            style="border: none; width: 40px; height: 40px; cursor: pointer; background: none;">
                        <span id="fill_color_hex"
                            style="margin-left: 10px; color: #555; font-family: monospace;">#000000</span>
                    </div>
                </div>
                <div style="flex: 1;">
                    <label for="back_color"
                        style="display: block; margin-bottom: 8px; font-weight: 500; color: #333;">สีพื้นหลัง:</label>
                    <div
                        style="display: flex; align-items: center; border: 2px solid #ddd; border-radius: 8px; padding: 5px; background: #fff;">
                        <input type="color" name="back_color" id="back_color" value="#ffffff"
                            style="border: none; width: 40px; height: 40px; cursor: pointer; background: none;">
                        <span id="back_color_hex"
                            style="margin-left: 10px; color: #555; font-family: monospace;">#ffffff</span>
                    </div>
                </div>
            </div>

            <button type="submit" class="btn-upload-big" style="width: 100%; border: none;">
                <span>⚡ สร้าง QR Code</span>
            </button>
        </form>
    </div>
</div>

<script>
    // Update HEX text when color changes
    document.getElementById('fill_color').addEventListener('input', function (e) {
        document.getElementById('fill_color_hex').textContent = e.target.value;
    });

    document.getElementById('back_color').addEventListener('input', function (e) {
        document.getElementById('back_color_hex').textContent = e.target.value;
    });

    // Simple Input Focus Effect
    const input = document.getElementById('qr_data');
    input.addEventListener('focus', () => input.style.borderColor = '#e5322d');
    input.addEventListener('blur', () => input.style.borderColor = '#ddd');
</script>
{% endblock %}